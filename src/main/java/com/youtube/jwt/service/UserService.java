package com.youtube.jwt.service;

import com.youtube.jwt.dao.RoleDao;
import com.youtube.jwt.dao.UserDao;
import com.youtube.jwt.entity.*;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.security.core.Authentication;
import org.springframework.security.core.context.SecurityContextHolder;
import org.springframework.security.core.userdetails.UserDetails;
import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;
import org.springframework.security.crypto.password.PasswordEncoder;
import org.springframework.stereotype.Service;
import org.apache.commons.lang3.RandomStringUtils;
import org.springframework.util.StringUtils;
import org.springframework.web.bind.annotation.ResponseStatus;
import org.springframework.web.multipart.MultipartFile;

import java.io.File;
import java.io.IOException;
import java.nio.file.Files;
import java.util.*;
import java.io.IOException;
import java.util.*;

@Service
public class UserService {
    @Autowired
    private EmailService emailService;
    @Autowired
    private UserDao userDao;

    @Autowired
    private RoleDao roleDao;

    @Autowired
    private PasswordEncoder passwordEncoder;
    @ResponseStatus(HttpStatus.NOT_FOUND)
    public class ResourceNotFoundException extends RuntimeException {
        public ResourceNotFoundException(String message) {
            super(message);
        }
    }
    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)
    public class InternalServerErrorException extends RuntimeException {
        public InternalServerErrorException(String message) {
            super(message);
        }
    }
    public void initRoleAndUser() {

       /* Role adminRole = new Role();
        adminRole.setRoleName("Admin");
        adminRole.setRoleDescription("Admin role");
        roleDao.save(adminRole);

        Role userRole = new Role();
        userRole.setRoleName("User");
        userRole.setRoleDescription("Default role for newly created record");
        roleDao.save(userRole);

        User adminUser = new User();
        adminUser.setUserId(1);
        adminUser.setUserName("admin123");
        adminUser.setEmail("addmin.ghassen123@gmail.com");
        adminUser.setUserPassword(getEncodedPassword("admin@pass"));
        adminUser.setUserFirstName("admin");
        adminUser.setUserLastName("admin");
        Set<Role> adminRoles = new HashSet<>();
        adminRoles.add(adminRole);
        adminUser.setRole(adminRoles);
        adminUser.setUserActive(true);
        userDao.save(adminUser);

//        User user = new User();
//        user.setUserName("raj123");
//        user.setUserPassword(getEncodedPassword("raj@123"));
//        user.setUserFirstName("raj");
//        user.setUserLastName("sharma");
//        Set<Role> userRoles = new HashSet<>();
//        userRoles.add(userRole);
//        user.setRole(userRoles);
//        userDao.save(user);
   */ }

    public User registerNewUser(User user) {
        if(userDao.existsByEmail(user.getEmail())) {
            throw new ResourceNotFoundException("User email  exists:");
        }
        if(userDao.existsByUserName(user.getUserName())){
            throw new InternalServerErrorException("Username exists:");
        }
        else{
        Role role = roleDao.findById("User").get();
        Set<Role> userRoles = new HashSet<>();
        userRoles.add(role);
        user.setRole(userRoles);
        user.setUserActive(true);
        user.setUserPassword(getEncodedPassword(user.getUserPassword()));
        user.setUserPhoto("iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAABgCklEQVR42u3dd3gVVf4G8PfMzC1pJPTeWwiQ0DuKiigCCbDGBomou7jryiokou5v14266qoUWVd37UDAFgUCKgoqKEKo0kNHei9JCElumTm/PwJKSblJbpJ777yf5/EBIQn3vjN3zvecOXOOABH5tPHjx1tO5ETUVeyyHiTqQZcREDJCSlETQkYAiJAC4QIIgUQwgBAAVgDhALRLv14pFIDlmj9zAci95s+yAOgAsgE4AVyEQJ4ELgIiS5FGFiCyAGQZkOchRZYKeUp3a6dzTgSfWr48xc2jR+S7BCMgqj7xD0yo69AtTWCgKaA0E4rRBFI0AdAYQD0JUVdA1vXH9yYhTgvIUwBOSymOCMU4Kg3liBA4KFRxWHcYRxZ9NPUMzwIiFgBEgdfAx8erBfbmzYSUbSDQGkAbgcJfUfhrkMkjyofAXkjsgxB7AWMvoOwTintvlxYRh1JSUgyeRUQsAIh8Wuw9kxsJqxElDdkRAlFCyo4QogsKh+Sp7JwA9gqI7RDINKSxXSoy0553ZGdaWprOeIhYABBVqfHjx1uOO0LaKbroDoHukOgOga6ACGY6VcIFYA+ADVJig6pgg9se9vOit1PyGA0RCwAir4iPj1ed1iZREEpvKWQfIUQvSHRA4eQ68h1uAJkQWCukWC2ANTGtQzN5C4GIBQCRR4aOmVDDqlgGQIj+kOgLoAeAMCbjl3IgsA5SrBZCrjQ09aeF779ygbEQsQAgQuyDk8OE2+gNGINhYACE6IXrH5GjwKAD2CWBnwD5rXSLZXwKgVgAEJlEfPzEIIdNGSCAWwHcCoEYfg5MywCwWQJLhRBLs5XQn5bPTClgLMQCgChAjBo7KUYKcZssbPQHALAzFSpCPqRcAWAppPwmfe70rYyEWAAQ+ZFB41Ls4UbuAEhjBICRgGjGVKgcDkrgGwHxRbYaupSjA8QCgMgXe/mJT9fW4YhTJGIlxGDw2XvyrouQcokQWGixyoVp700/x0iIBQBRNRlxb1IdRZV3SCHiBXAbOHmPqoYOKVdLiDQN+qfz5rx2nJEQCwCiShZ772P1FYt2lyFxlwD6AVCYClVvMYCVEPJTq+b6NO2D108zEmIBQOQl8fETgxx2MRwQiezpk6+PDAghZhsW9SOuOUAsAIjKYdCgFK1ms5zbdYgEITEC3DSH/IrMA8RCKcUcm+Pg19y7gFgAEJUiduzk9opi3Cul8QBn71OAOA7INCmU9xbOnrKFcRALAKLLjf6Dk8PgMu4RkA8A6MtEKHAHBuRKIZQPLAV5n6SlvZnLQIgFAJnSiHFJkYohx0GK8QBqMhEykQsS+EiV8s35c6ZtZhzEAoACXnx8itVhz4kTEOMBDGYiRNgggLctBUZqWtr0fMZBLAAooMTeM7mRsBiPSGC8gKzLRIiuc0oAbytSf5NrCxALAPJ7I8Y+0U0I42EBJIJr8BN5wikg0oXA9Pmzp2QwDmIBQH4jJSVF2bj/wmhITEThYj1EVA6FWxdjerfWYQtSUlIMJkIsAMgnxcenWJ22nHsgxNMAIpkIkdcKgf2Q+HeOFvYWNyUiFgDkM2IfnBwGp/6gEHgCQGMmQlRpTgoh/gfF/dqCma9lMQ5iAUDV0+N/aGItl1OZKAUmQCKciRBVmSwA/3brlte+/PBf5xkHsQCgKjEq8enaEq4JUsrHAEQwEaJqkwsh37Ba5CvcophYAFClGXFvUh3VIh6VkI+zx0/kY4UA5PvSrb+48KMZJxkHsQAgr4iPfyTUaQv+MxT5NBt+Ij8YEci3vJSW9nI24yAWAFTOhj/F6rJfGCeB5wDUZyJEfuMspHg1WwudwacGiAUAeWzQoBStRtPcBwTkMwCaMBEifyUPSYFnbfmHZ3FLYmIBQCWKS0weDMhpkOjMNIgCxk4hMGnB7KmLGQWxAKCrG/4xSVFQxKuAvINpEAXoeADwhaIojy+Y9eo+pkEsAExueOLExqpU/onCtfoVJkIU8BwSmOEynC8snvt6DuNgAUAmM378eMuJvLBHhMDzAMKYCJHpnJUSz9sch/7D+QEsAMgkRo6ZdItUxL8BRDENItPbKBU8vnDW1B8ZBQsACtSG//4nWsOQL0nIeKZBRFeSwBcS4i+LUqf8wjRYAFCAGD9+vOVkXtgTEPg7ADsTIaJi5AsgJetw2LTly1PcjIMFAPlzr3/cE12kbrwLoDvTICIPbTEM/H7R3KnrGAULAPIz8fETg5xB4h+QIhmAykSIqIzcgHwzH8pfl6ROucg4WACQH4i9P+kGYeAdAO2YBhFVhAT2CyEeTp895VumwQKAfNTIcY9HGLr6sgD+wGNLRN5tLESaEJY/zZ/90lmmERg4NBwg4hKSR0CKrwRwExt/IqoEHSX0+yOj+57atSVjM+PgCABVs+GJExsrUvmfAIYzDSKqmoZDpivS+NO8Oa8dZxosAKg6ev2JyaMg5TsAajMNIqpiWRLiTwtTp3zMKFgAUBWJj58Y5LSLfwHiL0yDiKpZqrUg/5G0tDdzGQULAKpEsQkTewgoc8EZ/kTkO35RhBgzf/aUDEbhPzgJ0I+KtdixSY8JIT4GUI9xEJEPqSmB+zt06a92btd4RWZmpmQkHAEgLxiR+GQzIfXZAvJGpkFEPi7DgBjDPQV8H/d/93FxiUl3KtK9kY0/EfmJvoqQG2PHJo1hFBwBoHIYOmZCDati/Q+ABKZBRH5qprUgfwInCLIAIA/Fjp3cXgh9HoAopkFEfm63oRijF82avp1R+BbeAvC5xn9SrFD0NWz8iShAtFMMJSMuMelORsERACpCfHy86gxq+gKkmMzjQkQBSALy9ezDNZKWL09xMw4WAARgxL1JdVQNH0rgVqZBRIFdBYgf4HbdvfCjGSeZBgsAczf+Y5/opgjjcwAtmAYRmcQRQNyZnjplDaOoPlwIqBrFjZ2UKATmAajLNIjIRGoASGgf0//kri2rfmYcHAEwjaETJtisWZbXAfEHpkFEJpdqLTAeTkubns8oWAAEtNh7JjdSLPoCCfRkGkREAIA1LlUZ+dXMV08wChYAAWlUQnInA8aXgGjGNIiIrnJUqMrwBTNf3cQoqgbXAagicYnJgw0hf2LjT0RUpMZSN34cmZg0lFFUDU4CrIrGf2zyA4D8GEAw0yAiKpYNwN2RXfqe2rU5YwPjYAHgz8TIxOQUQE5n1kREHlEAMTwypm+tXVsyvmEcldhAMYLKUTjT3/oeAO6IRVWuRlgIakbUQO2a4YgID7v0ayjsNhvsdivsNis0TUNoSNBV35d7MR9utxsFDifyCxxwOFzIzrmAM+eykZ2Ti7PnsnA++wKyc7i3C1VFAyXSstTQxOUzUwqYBgsAvxD/0MRaDqc6j1v4UmWrXTMcbVo2QeNG9dC4QT00aVQPjRvWu65h97a8vAIcPXEKR46dwtHjp3D0+GnsPXAEp8+c50Ehb1tluBG36KOpZxgFCwCf9rv7JrZyq8qXACKZBnmTRdPQrk1ztG/TDO1aN0fbVk1Ru2a4T73GrOwL2LP/MHbvO4Td+w5i196DKHA4efCoovbqunLHFx++uodRsADwSSMTJ/YypPqFgOTKfuQV9evVRkzHtojp2BZdO7dHcJDdr16/rhs4cPgYNm/bg3WbMrFzzwFIKXlgqTxOCgXDFsyaysmBLAB8rPEfmzxICpmOwiUuicpFURREtW+Jfj2j0ad7Z9SqGVinU86Fi1i3MRMr127Glsw9cLt1HnQqi1wpZOzC2dOWMQoWAD4hLiF5BCA/BWBnGlTmD6EQiGrfCgN7x6BPj86ICA8zx5X8Yj7W/rwNK9duwaZtu6DrBk8G8oDME4o6asGsV5cwCxYA1So2cdJYIcUHADSmQWVRMzwMNw3sgVtv7I2G9euYOovz2RewbMV6LFm+GidOneXJQaVxQoh70mdPmc8oWABUU88/aSKAqcyRytLbj+nYFkMH90ePmA5QVS7GeVXfTkpszdyLb5atxuoNWzkqQCVxQciE9NnTPmEULACquOef/ISQ8hUmQZ5QVRV9unfCyDsGoW2rpgzEA6fOnMPX32fg6+8zkJfHx8CpSLqAeHhB6pT3GAULgKrp+Y9NfhJC/otJUGnsdhuG3twXw28b6HOP7PmL3It5WPzdKnyx5CcuQERFkQJi0oLUKa8xChYAlWpkYnKKlPIfTIJKomkqbh7YE/eOvg01TTKpr7IVOJz4aulKzPvye+Re5NbxdE0VIGXKwjnTnmUSLAAqp/FPSHpeAn9jElQcVVVxyw09cffIW9njryT5BQ4s/nYVPlv0HfLyeWuArmzR5Mvps6c9xSBYAHhVXGLSC5D4K5Og4vToEoUH74tFowZ1GEYVyMq+gDmfLcZ3P67j4kJ0xUiAeH7hnCnPMAkWAOz5U6Vr1KAOHrwvDj26dGAY1WDfgaN4J3U+du45wDDocsv2dPrsqZynxQKggj3/hKRnAPC+El3HbrPinlFDMOK2gVBV7vZcvb0+ie9XrMfsT7/kREEqPCeETFo4e9o0JsECoLw9/yQJTGESdK2o9i3x6EN3oVEDbvvgS3Iv5mP2p19iybLVDIOkhHh4YeqUdxgFC4AyNv7Jj0vI6UyCrhQcbMd9o2/HsFv7Qwh+fHzVhs078OYHn+HsuWyGYW46hBzDxYJYAJSl558ggVnMh64U07Et/jL+Hs7u96PRgHdSF+CHVdw8zuRcgPhdeuqURYyCBUCJRiQmxylSfgau7U+XqKqC+NjBuHvkrez1+6GVazfjzfc/w8U8rh1gYk4hMHLB7KmLGQULgKIb/4TkmxXIL8Fd/eiSenVqYdKf7kNk2xYMw4+dOnMOU9+ci117DzIM05J5UhFDF86a+iOzuNS5YQSFRiZO7CUgFgMIZhoEAP17xeCZ5N+bfqe+QBASHIRB/bsjP78Au/cdYiDm7O9aBDC6Q5d+S3duzjjOPDgCcLnn31KBXA2gHtMgRVFwVxyH/APVioyN+M97n8LhdDEMczojpdF34Zzpe1kAmFz8QxNrOZ3KKgDt+bmg0JBgJD0yBl0783QIZPsPHsVLM2bi9JnzDMOcdrp1S78vP/yXqU8AU98CiI9PsbqEKx1AT34eqFnjBnj+6T9yu14TqBlRAwP7dMWuvQdx5lwWAzGfOoow+ra6scdHe9eu1c0agmLiE0A47RfelcDN/CxQZNsWeOH/HkGDerUZhlmKgPAwPP/0HzGwTxeGYcoWADdYs6wzYeKRcNOOAMQlJr0A4FF+Cqhvz2j89fEHEBxkYxhmuwAqCvr26AyH08W9BMypU4cu/bFz86rlLABMIjZx0oNCCi7xSxhx20A8+tBd0LiWv3k7gkKgS6d2CA0JxsatuxiI+dzYvku/A7s2Z2xmARDgRo5NHgTgY/ARSNNLvGsYxtx5O2f6EwCgXetmqFenJtZt2sHthc1WAwLDIrv0z9i1edV+FgABKm5MUhQULAEQwnPe3D2+h8bEYeQdNzIMukrL5o3RuGFdrPl5G4sA83WGR0Z27vPlrq2rT7EACDCjxz7eUCpiOSDq81w3d+P/+7EjMXzIAIZBRWrWpAGaNKqHNRu2swgwFxuEGNq624BP9mxaZYo9pU1RAAwal2K3SdcSQETxHDd34z/h93fhtpv6MAwquQho3ABNG9fH6g0cCTCZCBVyQKsbeswxw+OBpngMsIae8x/JZ/1N7+HEUbh5IE8D8ky/ntGY+Md7OUfEbCT6WM/bZnAEIACMTEgaD4hneFabW8JddyD29hsYBJVtJKBJA9SMCMP6TTsYhpkI9OgQ0//Izi2rNrIA8NfGP3FiLwnxKbi1r6mNuG0gxtw5lEFQubRp2RSKomDrjr0Mw1yGtI/p882uLauPsQDwM6MSn64tpbEUALdyM/Mn+KY+GJ8wisO4VCEdI1vhYl4+dxI0F00At7fr2G/O7m0ZeSwA/ER8fLzqVkPmQYjuPIfNq1t0JCb+8T4oisIwqMK6dm6PYydO49CREwzDNES4UNE9ul2TuZmZmQE3GzQgr4zOoOb/ghBDePKaV7PGDZD8yFioKht/8lJTIAQm/P5utG3VjGGYicQtzqBmz3EEwA+MHJs0EsAMcKtj06oZUQP//OufEBEeyjDIuxdMVUXPLh2wcs1m5OUXMBDzGBDZpd/2XZszMlkA+KjYsZPbQ8ivANh5vpqTzWrBc0/9EU0a1mMYVCmC7DZ0jGyNH1f9DLeuMxBzEACGRnbul75ra8ZpFgA+ZuiYCTU0RfkeQGOeq+Y14Q93o2vn9gyCKlWtiBqoX682MtZtYRgm6l9A4Kbo9l1nZ2aucwbCGwqYG6RWxfofALzym9iwWwdgUD/O+6SqMbBPFwy7tT+DMJcoh93+GkcAfEhcYtKdAP7Jc9O82rdpjqRHxnLGP1WpLp3aYUvmXpw5l8UwTEJAdIvs0nfnrs0Z2zkCUM1Gj5ncBBJv8bQ0r4jwMDw54X5oGnd4piruQakqkv40BmGhwQzDTKT434jEJ/3+cRC/LgBSUlIUXdFnA6jFM9Kk1bgQ+Msf7katmjUYBlWLunVq4rHx93CxKZP1OxTDnRofH+/XvQ6/LgA27st5GsBNPBfNa/iQAegWHckgqFr16BKFIYO4y6S5eh+4wWVvlsQCoBqMvD+pOzf5MbdmTRogIf4OBkE+4cExsWjUoC6DMBEJ/HNk4sReLACq0JCE5BBpYC4AK09Bc7JaNCT9aQysVgvDIJ9gs1qQ9MgYqCrnopiIRUplbnz8I3656phfFgB2GDPAR/5MbWz8HWjetCGDIJ/SukUT/G74zQzCXNo47UGvsgCoAnGJyaMExEM858yrXetmGD5kAIMgn3RX3GA0a9yAQZjLH0ckJsexAKhEwxMnNoaU7/BcMy9NU/Ho7+/i8/7k8+conwowF0XKd0ePfdyvhiX96iqqSfEGgNo81di7IvJl7Vo3w2038akAk6mjK6pfdVD9pgCITUi+R0LE8Rwzr+ZNG/L+KvmNxLuGcX0Ks5EYFpeYfB8LAC+Kf2hiLQH5Gs8u8xJCYHzCSM6wJr8RHGzHg/fFMgjTFQHy37H3PlafBYCXuBzKNAD1eWaZ18A+XdAxsjWDIL8yoHcXdGzfikGYS21FU/1ieXqfLwBiEyfdJAUSeU6Zl91uw/33DGcQ5JceGhvHCYFmGwSAiLu0SR0LgPIaMT4lWEjxDgB+ekzsrtjBqF0znEGQX2rVvDFuHtiDQZivCvjPsPueqskCoJzUvNznAXDc18Tq16uN2NtvYBDk18beORRBdhuDMNnlS1NdL/p0G+uzvf8xST2FgncQAFsWU/k9nDgaLZs3YhDk14LsNrjdOrbt3McwzKVbZHTfb3dtyTjMEQAPDRqUoikK3vLlAoUqX4umDTGwTxcGQQEh9rYbEBoSzCDMRYEQb40fP97imy/OB4U3uTAZQFeeO+aWePcwTp6igBEcbMfIOwYxCPPpdDKvxiQWAB4Yef8TrSHwd54z5taxfSt0i45kEBRQhg8ZgIjwMAZhNsJ4ZvR9Sc1ZAJRCGsZ0AHaeMeY25s6hDIECjt1m5WqW5qwAgnUFU1gAlNz7HwJgBE8W9v6j2rdkEBSQbru5L2pyFMCENQDujEtIuo0FQBHi41Os0jD+zbOE4uMGMwQKWFaLhqGD+zEIc1YB031pQqDPFAAOe24SgPY8QcytdYvGiOnYlkFQQLtjcH/YuS6ACckOJwpCJ7AAuMLwxImNBeRfeXLQXSOHcOY/BbzQkGDcemMvBmHGMQAp/uErmwX5RAGgGcoLAEJ5aphb44Z10atrFIMgU4i97QaoKtc5M6Ea0LTnWAAAGDV2UowUSOA5QcNuHcDeP5lG3To10btbJwZhxlEA4KG4MRM7m74AMISYAi73a3pBdhsG9e/OIMhUbr+FkwFNShWK8pqpC4BRiZOGA+CUb8LgG3shOIjLP5C5REe1QdPG9RmECUng5up+LLDaCoBBg1I0Qyqv8DQgIQSGsidEJjVkUB+GYF5T4uPjq23Pm2orACKaXngQkB14/CmmY1s0alCXQZAp3TSgB2xWC4Mwp04ue9NqmwNXLQXAoHEpdgn8jceegMLhfyKzCg0JQt+e0QzCpCREytAJE6plUYhqKQDC3TmPAmjKQ0+hIcHoxZnQZHKcAGtqza1ZtodNUQDEPjg5DEI8wWNOAHBjv26wWjQGQaYW07EtatcMZxCmHQXA32IfnFzlG0RUeQGguPTJAOrxkBMA3HJDT4ZApieEwIDeXRiEWY8/ZF249McCugAYcW9SHQk8xsNNANCiaUO0at6YQRABuKFfN4Zg6iIQycPue6pmwBYAikUmA+A+mAQA6N87hiEQXdK6RWM0acQ1AUxLIlxTXY8HZAEwKvHp2pDiER5luowzn4mu1qcHJ8Sa3ONVOQpQZQWAlI4k9v7pspbNGqFJQ04FIbpS724dGYK51bBo7iq7TV4lBUD8QxNrSYhHeWzpsv69OPxPdK02LZuidi0+DWBmErLKRgGqpABwOtVJ7P3Tlfr14vA/0bWEEOjVlaMAJq8AwlXF+ZeAKACGjplQA5B/5lGlyxo3rMulf4mK0bs75wGwEBSPxcc/Eur3BYBVtT4CIIKHlC7rHsMtIIiK0ymyNew2K4Mwt5quoKAH/LoAGDphgg0Sf+GxpCt1i45kCETF0DQVHdq1ZBAmJyUmDhqUUqnLpFZqAWDNtowD0JCHki6z26zoGNmKQRCVILpjW4ZALWs0zRnllwVAfHy8KiCSeAzp2gubRePa/0QliWEBQAAUVO6+OZVWADiDmo2SEjyL6SpdOrVjCESldf2aNUKNsFAGYXIS6DkqMWmA3xUAkJjEw0fX6tiew/9EpRFCoHOH1gyCYEhU2kh6pRQAI+9P6g6gLw8dXSk0JBjNmjRgEEQeiGzbgiEQAMSNSni8Uh6dqpQCQBqSvX+6vvcf2QpCCAZB5IH2bZozBAIAYUCtlKfpvF4AxN4zuREg7uQxo2tFteejTUSeatW8MawWTpglAMC42Hsf8/pWkV4vAIRV/zMArmJB1xcA7Xj/n8hTmqaiZfPGDIIAwA5V/aNPFwBDJ0ywSSn+wGNF17JaNLRq3ohBEJVBZJsWDIEKO9dCPDJ0wgSbzxYAlmxLvIDkIu90neZNG0JVVQZBVAZtWjZhCHRZPdt562ifLQCEFH/iMaKitG7ZlCEQlaNwJrpMAl69DeC1AiA2MTkaQD8eIiqyJ9OCPRmismrcsC40jSNndLmXjRtGJSR7bbtIrxUAQkr2/qmEEQAWAERlpaoqGjesxyDoVwYMr82z80oBcGnf4vt4aKgomqaiaaP6DIKoHFrwNgBd1dsW9w9JSA7xmQLAYQ++F0ANHhkqSsP6dTiMSVROXD2TriIRHgwj3mcKACHkgzwqVJwmHMIkKrdGDfhgFV1TA0jxgE8UALFjJ7eHRG8eEipO40YsAIjKq0G92gyBrul1Y2Ds2Iltqr0AENAfAsAF3qn4AoA9GCIWAOTVEkAIdVy1FgCDBqVoEBjLY0ElacIRAKJyC7LbUCMshEHQNeS4+Pj4Ck2uqlABEN40dygATlGlEjWszxEAooqoX5ejAHSdxk57s8HVVgAIIIHHgEpit9sQGhLEIIgqoEG9WgyBilKhNrjcBUDsg5PDJORw5k8lqVs7giEQVVCtiHCGQEUZeWkdnioeAXDrowGwa0clql2TFy6iiooID2UIVJQQly1oRJUXAMKQXPmPSlWHIwBEFRYeHsYQqEhS4N4qLQBGJSTXgxA3M3oqtQCoxQKAqMIjADU4AkDFun1U4tPlmiVargLAAO4BoDF3Kk2tCK4QTVThEYAaHAGgYll06SzX0sDluwUgjbuYOXkiNDSYIRBVdASAcwCo5Ia8agqAO8Y90QBC9GXk5IkwFgBEFRYcZGcIVHyfHLhxVEJymVdcK3MBYDGM0fDSJkJkggIghAUAUUXZbVYIwRXXqViqIWVspRcAQuJ3zJo8xVsARBUnhIDNamEQVNJJUua2uUwFwKjEp2tL4AYmTR4XAMFcKoLIK6MAdhtDoBLIW4bd91TNSisADMMVC87+Jw9omoq74gbzokXkrQLAZmUIVBKLRXWVaXXesjXmihwJyZSpZJFtW+CRB+9Es8YNGAaRl4SGBAM4yyCo+DEAiVgAqZ5+vcezSoZOmGCzZlnPAODzKFSsITf1wcOJo6CqKsMg8qIjx08h5eW3ceZcFsOg4uQ6I5x1Fr/+usOjPr2nP9WaZbmFjT8VW0kKgfGJo/DIA3ey8SeqBE0a1sNLf38UDepxa2AqVqg12zbQ0y/2uACQQuHOf1SsB+4dgTsG92cQRJWobu0IPDt5PGpybwAqrq2WxjCvFwBCyjsYLRUlPnYwYm/nwyFEVaF+vdr4W9JDsFo4H5uKbK09Xg/AowIgNjE5GkBzBkvXat+mOe4dPYRBEFWh1i2aIOGuYQyCrm/+gVYjxiVFeq0AUKS8nbHStWxWCx4bfy8UhQtDElW14UMGoHOHNgyCrqPqwqM226MrtwRuZaR0rZF3DEKjBnUYBFF19PSEwLh7h3OJYCp3m11qATBoXIodAGd30VWC7DaMuG0ggyCqRq1bNEGfHp0ZBF1bAtw4dMKEUldhK7UAiJAXbwDA9VzpKrfd3PfSwiREVK2fxZv6MAS6VojtvK3UXXtLLQCklBz+p+vc2K8bQyDyATEd26J2rXAGQVe33UrpbTcLACqzenVqoWWzRgyCyAcIIRAT1ZZB0NXnhUTFCoD4hybWEgBvMNFVenaNYghEPqRTh9YMga7uvAPdR457PKLcBYDLodyAMu4YSIGvdcsmDIHIh7TgiBwV0b4bbq1/uQsAKcDl3eg6zZtwlz8iX8L9AahIQt5Q7gJAQN7IBOmqc0IINGlUn0EQ+ZDgIDtCQ/iwFl3bhuPGchUAQ8dMqCEhYhghXSkoyAab1cIgiHzts2m3MQS6VvfYByeHlbkAsCqWAQC4ryvxIkPkB2w2fjbpOhqcep8yFwACGMDs6PoCwM4QiHzxSq+xv0ZFtuYDy1wASAguL0XXsfAiQ+STLublMwQqojNv9C5TAZCSkqIA6M7o6FpOl4shEPmgC7l5DIGKaOVF70ttumcFwM/7czsBqMHk6FoFDidDIPIxuq7Dwc8mFUUifOOeC5EeFwCQ6M3UqChZ2bmQUjIIIh+Sk5vHzyUVXwOoso/nBUAJ9wyIPY2s7AsMgsiHHD5ygiFQCRWA6O1xASCE6MXEqDgnTp1lCEQ+ZP/BowyBSuJZATBoXIodEh2YFxXn4OHjDIHIh+xjAUAlEEDUoHEp9lILgAgjOxqAxsioOAcOHWMIRL40AnDgMEOgkljC3BejSi0AJERXZkUl2b5zL0Mg8hHns7Jx+DCLciqZKmTXUgsAGAoLACrRLwcPI+dCLoMg8gGr122G2+1mEFQiCQ8KACFkN0ZFJdF1N7Zu380giHyiANgEaegMgkpTcgEQHx+vSqATc6ISK0ldx+r1mxkEUTVzOJzYuGUHCwDyRPS1KwJe9T/uoKatAXBTaSq+8ZcSUkqsXb+FC48QVbP1G7fB4XD++rkkKkHohn25zYstAAwoHZkReSIrO4e3AYiq2dffrriyPGcgVCJNGB2LLQAgjShGRCUPARi//va7HzKYB1E1OXX6HNZv3HbFZ5MFAJVy+ZYiqvgCAGABQKWcQL9dZFasWs8NSIiqyeKlP8AwDPb/qQwXcJRQAFxTHRBdSwjx6+8v5uXj2+WrGApRFdN1A99891Oxn02ioi/gxRQAKSkpCgTaMyEqpQK46n/nLVrKyUdEVezHletw9lzWdVd3opIHANDhyhPl1wLg0uxAPgFApZaQVzpy9ATWbtjCWIiq6iIuJT7+/Mvr6nKOAJAHQkePmdz4ugJASNmG2VDpAwACUK6+czRv4VIGQ1RFfli5DgcOXbP5j1AYDHnEEEab6woABSwAyDPKNRebTVt3YO/+QwyGqCp6/599eX1hrqgMhzw7h65o65XfqgLRmtGQR6MARVxsrh2SJCLvW7FqPX45eOT6olzhCAB5egFHa44AUPlHAFS1yAsTdwkkqjxutxuzPpxfTFHOHdzJ4yGA60cAJAQLAPKsAChmuPGdDz7hEwFElWTeoqU4cuxkkX+nqrwFQB67rgAQgGzJXMizEQCtyBnHO3bvx08ZGxgQkZdlZecUee+/sPevcA4Aee7aWwDxD0yoA4hgJkMen0Nq0UOO783+DC4X9yYn8qYP5szDxbz8ogtyzcKAqCzCht33VM1fC4ACl70pM6GyUIu56Bw/eRpffLOcARF5yZ59B69b9c+TzyJR8eeMu+mvBQAUyQKAynYCqcVfdGbOnYfjJ08zJKIK0nUDM/47q9i5NUIIKJwASGVl4LcCQFz6HyJPCUUp8mkAACgocGDGm7M4IZCogj6d/xX27DtY7N8XNx+HqCQKjGa/jQAIjgBQOUYBLLZi/27jlh1Y8v1KhkRUTkeOnsCHn35R8mfQamNQVI4e3JUjAJBNmAiVuQDQrCip8/HW+x/j9JlzDIqojKSUmP7GTDhdruKv4Ypa4q04ouIYUrliDgBEI0ZCZS4ihYBSwgXoYl4+/v2/VAZFVEYLvvgW23bsKbkAt1gZFJXv2q3IhlcWAPUZCZWHZi15A8m1G7bg629XMCgiD/1y4AjeT/28lOIb0Cwc/qdykqh/RQEgWQBQuSiqClUteRbyG2/Pxd79BxkWUSmcLhdenvFOiUP/wOXbb5z8R+VWDwCU8ePHWwDUZB5U7iKglJ6I0+XCC1P+h9yLeQyLqARvf/AJfjlwpNSvU612hkUVUWfQoBRNOVYQUg8AS0kqN81iLXUp0mPHT+HVGe/y0UCiYqz7eSu++Hq5R583hUv/UgX7bTUanq+tKBD1mAVVuAjw4HGk1es247P0bxgW0TWklJjx39keFcjs/ZNXWCz1FUWodZkEVXwUwObRhiQfzPkcW7fvZmBEV9i+c69Hj8yq7P2Tt4YAdKOuIqXO+//knYLSVnrPRNcNPPfyGzhy9AQDI7rkx5XrSv0aIQALe//kLQIRCoAIJkHeoGpWKFrp65LnXMjF355/DeezchgamZ6UEitX/1zq12kWO7f9Je+ddxA1FUBwBIC8xlrKugCXHT95Gs+8MAP5BQ6GRqa2fccenDl7vuQvUhTe+ydvlwARCiTCGQR5i1A1j7cn3b33AF6a+hZ03WBwZForVm3woLC287l/8u61Wohw3gIgr7PYgz2+WK1Zvxmvv8XlgsmcdN3AD6Xc/1dUrcSNt4jK1f8HaipScASAvF1ZKtBswR5//eKlP+KrJT8wODKdnzdvx/ms7BI+S4DFFsSgqDJEKEIilDmQt2kWK1SL5zuVzV+0lKGR6Xy3PKPkz5HVDkXVGBRVhhAFAsHMgSqDxeb5rYBDR45jx659DI1MIy8vH6vWbiz27xVFhWrhxD+qJFIGK5Dg+BJVisJbAZ6fXouX/sjQyDR+ytgAh8NZfAFtD+HEP6rECzSCFEiOAFDl0Sw2KB4+FfDDynXIy8tnaGQK3/6QUcLnxg5F5TP/VKkVQDBvAVCls9pDIBSl1K8rKHBg2Yq1DIwC3vETp7Bl264i/05RVWg2Dv1TVRQA4C0AquTTTIjCIsCD0cyvv+VtAAp8Xy35sciNf4QQHPqnKiKDFAnBUpMqnaJq0DxYJXD33gPYu/8QA6OA5Xa7seT7lUX+nWYL5mY/VFWCFAHJZ0yoSmhWu0erBH7z7QqGRQFr1ZqNyMq+fh8MVbNCs1gZEFXZJVkBwAKAqozFHlLqhibf/ZBR4uxoIn/2VTFPu1jsvBtLVUpVAMnxJqoyQghYg0q+x3kxLx/f/7iaYVHAOXL0BDZt2XHdnyuaBiEUBkRVPQIgWABQlVIUFdag0BInBX6W/k2Rk6SI/NmCL78t8rxWNQ79U7WMAIAFAFV9EaBqsNhDSuwprVm/hUFRwMi9mIdvl60q+krMAoCqZwSABQBVU/mpWUvc6OSz9K8ZEgWMb75dgfwCx/XFsKbxsT+qthEAouorQa12aNain0Tdun03duzez5DI70kpsWjxMvb+yacoAHTGQNXJYgsq9vHAz9O/YUDk9zLWbsLxk6ev+3MhWABQtdFZAJDPjAQUZeXqn3Hs+CkGRH4tbUHRt7MU1crhf6oubgWQLACo2imqVuQKaIZhYP6ipQyI/NbmrTuRuXNv0ee9hxtlEVXSCIBgAUA+QS1mFbRvvv8J2Tm5DIj80ifzviryz4UQHq2MSVSJIwBwMwfyjQLAVuTaAA6HE198/T0DIr+zd/9BbNi0vZjeP4f/qZpHACQECwDyCUIIKMVMiJq3aClyL+YxJPKv3v/nXxX7d1z3n6p9BEBAFjAH8hWaxVbkn+fm5uGzBXwigPzHwUPHsCJjQ9HFrqJCUbkNC1WrfAVAPnMgX6GoWrGbBc3/YinOZ+UwJPILqZ+kF7ucNXv/VP1EvgIJjquSTyluMmBBgQOffP4lAyKf98vBI/ipuN6/ADSrjSFRNZN5CgQLAPItmsVa7EZBi75ejhMnzzAk8mmzPlxQbO+/cJ4LJ/+RbxQAvAVAPkUIBYpa9ONRbrcbH332BUMin7V3/0GsXrephAKXvX/yhfYfvAVAPjoKUMzKgACwdNlKHDl6giGRT/pgzrzie/+c/Ee+09PKU6QAV1ghn6OoWrEXSl03MPvjdIZEPmfT1h1Yv3FbsX+vllDYElWxiwogspgD+eYoQPFDpT+uXIe9+w8xJPIZUkq8MzOthA4XV/4jn3JOUaTBAoB8kqpZi30kUEqJd2d9ypDIZyxdtgp79x8s/ny22LjyH/lQwSqyOAJAfjsKsHHLDqxc/TNDomrncDox+6MFJZ/LnPxHPkQRMlsBwAKAfHoUAIpS7N+/M/NTOF0uBkXV6rMF3+D0mXMlnMcWiBLOY6KqZgh5XoHkCAD5LiEELCWsmnb85Gl8nr6EQVG1OX3mHD6dv7jk3j8n/5GvkSJLMSDPMwnyZZrVXuK9008+/xJnzvI0purx3/c+QkGBo9i/VzQLH/0jn6MYMltRNOU0oyAfHweAUsIoQH6BA2+++yFjoiq3cXNmqfNQLOz9ky9eVRXlpKK4XScZBfk6i9WOkiZQr1z9MzLWbmJQVGXcbjfeeKfkwrOk9SyIqtkp5dyRiNMADGZBPl2tCgVqKbOo33x3bolDsUTe9PnCJTh89HiJX8NNf8hH6VrBwbPK8uUpbgDnmAf5Os0aVOJcgFOnz3GFQKoSR46dxJyPF5bS+1cLn2Ih8j1n0tLS9MvPpZxiHuT7owCi1Gep5y9ail17fmFYVGmklJj+xsxSHz/lzH/yYScBQLnyf4h8nVrKEwGGYeDVGe9xbQCqNIu+XoZtmbvZ+yd/duqKAkAeZx7kL6MApW2ocvjoccz9ZCHDIq87c/Y8Zs6ZV+rXadYghkW+7PhvBYDAYeZB/kKz2EpcHRAA0hZ8jd17eSuAvOfy0P/FvPxSev8aN/0hX+9KHfqtAJAsAMi/RgFKe7Za1wtvBTgcTgZGXrFo8bISt/q9zGJj7598/SJqHP61AJAsAMjPlLRT4GWHjhzH2zO5YyBV3KEjx/HurLRSv46r/pFfuNTmF44AKCwAyB9HAUp/xvqLr5chY+1GBkbl9utokrP00ST2/skfKFB+uwWgwnaIkZDfjQJYbFA96G1Nf2Mmzp7LYmBULrM/mu/RfBLVYoNSyqgUkS/QCtTfRgDmz37pLCDzGAv5G096XNk5uXjltXdhGFzwkspm45Yd+HT+16V+nRACFhuf+ye/kJOW9nL2rwXApVN4P3MhfyNUDaql9OetN23dgVSuEkhlcD4rB6+89o5HhaNmtUEIhaGRP9h3+TdXnrF7mQv55yhAcImLA1320Wdfcj4AeUTXDbww5b84dz679CJUUaFa2PsnP+k0Qey9vgAQggUA+ecJLQQ0D24FSCkx5fX3ceLkGYZGJZo5dx62bt/tYQEa5FEBSuQbjOsLACnlPgZD/kqz2Dx6/Co3Nw//fPVNj2Z0kzllrN2ItAVfe/S1qsXCRX/IzyhF3AKQYAFAfq2wJ1b61+3ZdxCvzngPUkqGRlc5dOS4x+eGEICFS/6Sv5FFzAGQvAVA/l7XqprH92JXrFqPjz//iqHRry7kXsQ/Xvx3qUv9XqZZ7KUuRkXkc9dJqVx/C6B769CDAPIZD/kzzer5RXnWh/Px46r1DI3g1nU8/8qbOHbcs53RFUUtdVMqIh+UO2/uK0evKwBSUlIMADuZD/kzIQSs9mCPvlZKiWmvv4/dew8wOJN785252LzV88ufxR7CiX/kjzIByOsKgCv+ksivKaoG1YNlggEgv8CBvz0/HUeOnWRwJvXx51/iy29+8PjrNasNisqhf/LbAgBFFwCSBQAFBos1yONbAdk5ufjbc9NxPiuHwZnMdz9kYObc+R5/vVAUaJz4R35KClF8ASA4AkABoiy3AgDg+MnT+MeL/0Z+gYPhmcTaDVsw9fX3y/Q0iJVD/+TPjBJGAIQiWQBQwFBUDVoZJmrt2vML/vbcdBSwCAh4u/b8ghem/A+67vn+EJrVzq1+yc9HAEooALT8w/u4KRAFEostqEwX7W079uDZf/0HTpeL4QWofb8cwt+ef61MhZ6iqGUqJol8UO6lp/1+ddVN0szMTBkZ0y8WQBNmRYFCVTXobs9X/jt+8jQOHDyKAf26Q1G4wUsg2X/gMJ76x1TkXMj1+HuEAKxBodzql/y79w+sfevfL71f7AjAJdwthQKKUFRYbMFl+p6MtRvx4pT/we12M8AA8cuBI3jqH1PK1PgDgGYN4tA/+f91sIi2XfHki4j8fhTAYoVqsZXpe1au/hnP/usN7hsQAA4cOoon/zEF2Tlla/wVzcKhfwqMEQAhN5VaABgwfmZUFIjKOh8AKJwp/n/PTUdeHhfJ9Fe79x7A5L+/iuycC2XrMSkKrPYQBkiBovQRAFeEeysAzoCigFP4aGDZH+Paun03/vrstDIPHVP1+3lzJib//ZWyN/6X7vvzkT8KEE5XuCuz1AJg8euvOwDsYF4UkEWAosBiDy7z9+3YvR9/mfwCVwz0I6vWbMQ/Xijf2g6aNYiT/ihwSGReattLLgAuffUaJkaBStWssNjKfl/3+IlTmPT0S9ixez9D9HELF3+P515+o1yPc6q8708B1/PB6qL+WCn6axUWABTQNGsQVIu1zN+XnXMBT/79Veza8wtD9EG6buCNt+fijbfnlmmFv18viIoKC+/7U8C1/0V36rWivxhrJDOjAGexBUMaBgy9bI/6OZzOcjUuVLny8vLx0rS3sXbDlvJdJBWF9/0pMAtjVXg+AhDTOjQTAtmMjQK6KhYC1qAQiDIu9qOqClq24FpZvuTY8VN47MkXyt/4i0vr/HPhJwo8Wd1bhO32uABISUkxAKxnbhT4RUDZe33NmzaGzWpleD7kux8ycOjI8XJ/v2YL4WI/FKhXudWX2nTPCgAAgCx6yIAo0CiKeqkI8OzrI9u1Ymg+pm3rFuX+XovVDs3Cgo4CtZODYuf0KcV/k1zJ6Mg0RYCqQbN5NvkrulN7BuZzBUDzcn2farFBswUxQApYEvipzAWAoak/AeBC6GQamsUKqwdrBHSOasewfEztWhGoU7tm2Rp/zbPjTeTHXPkSGWUuABa+/8oFQGxifmQmqsVW4kJBjRvWL3NDQ1UjuqPnIzOqqpVrQSgiP7N+SeqUi2UuAABASPzI/Mh8IwHFDwv37hnDgHxUTOdIj75OUbXCpz/4uB8FOiFLbMNLLAB0hQUAmZPFai9ytcDePaIZjo/qGt3Bo8bfFhQCCD7uRyZQSie+xE+B3aKvAGAwRTLlSIA1CJYrRgJCgoPQiff/fVb9enXQrGmjEhp/FbagUDb+ZBa6UI1V5S4A0t6bfg7AZuZI5i0C7L8uDdu3d1doKjeI8WUD+nQrvvEPDgM47E/msWHBzNeyyl0AFI4gYClzJFMXAZeeDhg8qC/D8HH9iygACof9QwGw8SczEaW23aUWAEIIFgBkenXr1UVMp0gG4eNat2yGhvXr/naB0yywctifTEiBXvECIFsJ/QlAPuMkM7uxbzcoXCfe9/s8QmDILQMAFG7ra7Vztj+Z0sWCCHepq/mWekVbPjOlQJSwkhCRGRqVWwf1ZhB+YsjN/WG1B3FnPzItCSxb/PrrjgoXAABg8DYAmVjPrlFo1KAug/ATdWrXRM/uXRgEmbfTAs/abI8KAFViMSMlsxo+ZCBD8LtjNoAhkHlHAKTyjdcKgPmpU7YB+IWxktm0aNYInTu0ZhB+pmvn9mjetCGDIDPat3DOK7u8VgAAgBDyS+ZKZnPPqCG8j+yHhBAYOfRGBkHmO/elSPf0az0uAAyDBQCZS6vmjdG7W0cG4adu6NsV9erUYhBkKrqAx221xwWAq6Z7GYALjJfM4t7Rt7H378dUVcV9d97GIMhMcuwFoR4/tedxAbD49dcdkPJb5ktm0LF9K/To0oFB+Lkb+3ZDy2aNGASZghT4Oi0txen1AgAAhMBCRkyB33NU8IfEUez9BwAhBBLvHsYgyCwlwKKyfHXZljZTjQUAnAyZAtntN/dDC84gDxhdO7fnXA4yA6futpZprl6ZCoAFM1/LEsAPzJkCVXiNUNw7mveNA80fEkchyG5jEBS4BJZ++eG/zlfeCAAAKeTnTJoC1cP3j0ZoSBCDCDB1akXgvt/dziAocBmizG1z2QsAl74AgM60KdDcNKAH+vWMZhABatit/dG+TXMGQYHIbehlu/9frgJg4UczTkJiJfOmQFK7ZjgeGhPHIAKYoih44tEEjvBQwBHAskUfTT1T6QUAAEiINEZOgUJVFUz8431sGEygTq0IPHz/7xgEBZrPylUUl+ebbBbHJwDczJwCQeLdw9CJ6/2bxsA+XTD4hl4MggKFUwhruebmlasASPvg9dOA4KJAFBCNQdztXDPebMbfP5rzASggCMjF82e/dLbKCoBL/+iHjJ78WYumDfHnh+5iECZktWh46rFxqFMrgmGQX5MCH5X3e8tdAORBzANwkfGTP6pdKxz/N+kh2G1WhmFSNcPD8H+THuQ5QP7sYr5UvijvN6vl/cZ9W1a5ImP6RQPoxGNA/iQsNBj/fPpPaFi/DsNgEYCWzRth1botMAzJQMjffPJV6tRPq3wEAACkFKnMn/yJzWrB/018EE0a1WcYBADoHtMByX9OgKoqDIP8ipSoUBtcoTPe5jj4NYAjPAzkL43/048/gMi2LRgGXaVP907480N3cQMo8idHbI5D31fkB6gV+ebMzEwZ2aVvfUAM4LEgXxZkt+HvSQ8hOqotw6AitWzWCLUiamD95h0Mg/yg9y9mzP/43QoVABUe81KA9wHw5hn5rJDgIKRMHo+OkXzWn0o25KY+eOov98Nq0RgG+XT7r6hiVkV/iFrRH7Bzc8bZyJh+QwA05TEhXxNeIxTPPvkw2rbi6UmeadKoHtq2bobVG7bB7ea2J+STfkifPWW6FzrwFScg3ufxIF/TrEkDvJryF7Rq3phhUJl06dQOzz35MMJrhDIM8sH+v/zAGz/GKwWApSDvEwA5PCrkSxfwf/3tUdSrU4thULm0a90M056fyNEj8jVZRnCNz7zxg1Rv/JDMzHXOyOh+TSHQk8eGqtuQm/pg0p/GwGazMAyqkOAgOwb174Gz57Lwy6FjDISqnRB4a+H7Ly3yxs9SvfWiIjv3OwCBRwDwORqqFkF2Gyb8/m7Ex94CReFpSN6hqgp6d+8Em82KbTv2QkrOeabqYyjG73dvXn3aK8WEN19YbELSCgHwkUCqcq1bNEHSI2PRqAFX96PKs2f/YUz/31wcO3GGYVB1WJ6eOvUmrxW33nxl7aP7OYXAaB4jqipCCIy4bSCS/5zACVtU6WrXDMfNA3viQm4e9h3gGmhU1Rc8+dSuzRnbfbIAaHVjj91KgfawAEJ4pKiy1a9bC8l/TsAdg/tDUbiMK1UNi6ahZ9coNG1cH1sz98LpdDEUqgonrQU1Hs7MXO61Z1O9WgDsXbtWbx/dL0wIcIN1qtRe/5Cb+uCvj43jmv5UbZo1boAhg/ogNy8f+w8eZSBUqaSUU+Z//NL33vyZqrdfZMfoXjulUCZUxs8mat60If76+AO4/ea+0DSu1kbVy2q1oGfXKHSOaoPd+w4h5wJ3SKdK4XBrasKeTatyfboA2LFldW776P7thUA0jxl5S2hIEMbcORQTfn8X6tauyUDIp9SrUxO3DuoNVVGwZ/8h6LrBUMh7BFK/mDVlrrd/bKX00ttF9z8ohHyYR40qfIKqKm4d1BtP/WUcYjq1471+8t1zVVHQqUNr3DKwF/IdDhw4fIyPDJJ32n9VeXDnplUnvF9XVBI+EkgVFdOxLR4aG4dmjRswDPI7R46fwkeff4OVazczDKpII/39gtSpt1RK0VpZL7p9TL9sAdzNw0dl1bVzezz28L2Ijx3MR/vIb9UIC0H/XjHoFNkap86ex6kz5xkKlacEeGzXllW7K+MnV9osqm6twxZs3HchE0AUDyCVeooLgR5dOiA+djDatW7GQChgdOrQGv/s8CfsO3AU8774HqvWbeGtAfL0yrija+vQL9Mrb3Sh8oxMSH5IQr7Lg0ilNfz3jBqC1i2aMBAKeAcPH8eCxT/gh1U/wzA4WZBKIOX96XOmza60629lvvbx48dbTuaH7QPA7bToKnVrR2Bg3664bVAf1K9Xm4GQ6Zw9n42ly9dg8XerkJ2Ty0DoWkesBWGt09JSnH5ZAABA3NhJyRDiVR5LCg6yo3f3ThjUvzuio9pACG7YQ+R261jz8zYsWbYaWzK52RBd7vzj8YVzps6ozH+j0q/AsQ9ODhMu/SAAPrxtQqqqoHOHNhg0oDv69oiGzcoteomKc/joSXz9fQaWr9yAi3n5DMS8zlkL8punpb1ZqUNDVdIFi0tIehbAMzym5qAoCtq3aY7+vWIwoHcMIsLDGApRGbjcbmzethsr125BxvqtKChwMBQTEUI+s2D2tOcr/d+pijcTH/9kuNPuPgAggoeWjT4Rec7pdGFL5h4s+2kD1vy8DW63zlACuvVHtlD0FgtmvpYVEAUAAIxMSHpeAn/j0Q0cNqsFMZ3aoVfXjujdvRPCQoMZClElupCbh1XrNuOn1Zuxfdd+PkUQmP6Rnjr1uaqpNaqqABj3eITU1V84CuDfaoSFoHtMB/To0gHdoiMRZLcxFKJqkHsxD5u378H6TTt4m4C9f98uAAAgLjHpBUj8lUfZv9SvVxu9ukahX68YRLZpztn7RD7m8m2CtRszsfbn7cjKvsBQ/JCUMmXhnGnPVl29UYVGJT5d25DO/QBq8FD7LlVV0LF9K/Ts2hG9ukbxOX0iP6LrBrbv3Ie1G7dj3cZMnDx9jqH4h/NC1VtVVe+/ygsAAIgdO+kfQogUHmvfYrdZ0TmqDXp2iULv7p24Bj9RgDh56izWbdqBdRu3Y9vOfdyq2Fd7/xB/XZg65aWq/DervACIj38k1GkP2gugPg959apXpxZ6do1Cr24d0SmyFVRVZShEASznQi7Wb9qBdZt2YOPWXZw34DtOSYvaZuH7r1TpvZtquZk7MiH5cQk5nce8agkh0K51M/TsEoWeXaPQvGlDhkJkUi63G9t27MPan7dj/aZMnD6bxVCqr///aHrqtDeqvE2ojrcaH59iddov7ATQkge+clmtFnRo2wI9u3ZEv57RqFWT0y+I6HqHj57Euo2ZWLcpEzv3HOCSxFXngDPCGbn49derfDim2qZzxyZOelBI8R6PvfeF1whF726Fz+Z3jmoLq0VjKETksfNZOVi3aQfW/rwdW7bvhtPlZiiV1vmv3B3/fLIAiI+PV532Zj8DiOYZUHF169REn+6d0KNLFDpFtoaqKgyFiCrM4XRha+YerFy7BWs2bENefgFD8Vrjj01Wx6EeaWlp1bK8Y7U+0B2bOOkmIcX3PAvKp1mTBujTvTP69OiEVs0bMxAiqlROpwsbt+5CxvqtWLcxkxsWVZACY9D81Ok/VNe/X+0rusQlJM0HMJKngmfq162FgX274oY+XdGsSQMGQkTVwu3WsSVzD35Y9TNWr98Kh9PFUMrS+Rf4dOHsqXdX52uo9pvDmm4kuVVlKACuKVuM0JBg9OsVjZsG9OBKfETkEzRNRbfoSHSLjoTT6cK6TZlYvnIDNmzeyT0KSlegKPqT1f0ifKIliU1IelkAk3lO/EZVFfTq1glDBvVGTMe2UBTe0yci33fmXBaWr/wZy39ajyPHTzGQohvefy5Infp3FgAAYh+cHCZc+i4Apn8wPSI8DDcP7IGhN/dD3To1+UkhIr+1Y88BfPHNCqzesJUrEP7mqLUgPzIt7c1cFgCXjExIfkhCvmvWM6J504aIj70Ffbp3hqZxRT4iChynz5zHgsU/YOkPa+A0+VwBKWTCwtnT5vjCa/GZceUurUM/EMA6s54UORcuom3Lpmz8iSjg1K1TE39IGIm3pv4VnTq0NnMUaxbOnjbXV16MzxQAKSkphpTycQCmXH7qfFYOnnnlbZznNp5EFKAOHj6OXXsOmrbzrwgk+1Ib51PdzV1bMg6379IvSgAdzXh2XLyYj03bduOGvl1htVh4tSCigLFjzwG8MO09OF2mvQUwZ0Hq1Bm+9IJ8bmq55sZkAKZdXeLg4eN48bWZfKaWiALGrr0H8eyr76DA4TRrBLm6MJ72tRflczecd2zNyI6M7u+GwGCznimnz5zH7n2H0L9XDLfoJSK/tnvfITw35V3km3gJYQHx5MLUaUt97XX55MPl2UdCpwLYYOYPzZbte/Diax9wEw4i8ls79hxAyitvm3rJYAGssxQcfN0XX5tPdi8PHFhuREX3XSOFeMhXX2NVOHHqLPYdOIK+PaO5uQ8R+ZVtO/bh+anvIb/AYeYY3FLIuPkfvXeMBUAZ7NyScbJ9TL9QAfQ389lz/OQZ7N53EH17RvMRQSLyC5u27cYL09+Hw7z3/C/3/l9MT532oa++Pp/uVtoKjBQAe83+Ydq8fQ/+/tJ/cSE3j1cWIvJpGeu34sXp73MiM7A7Sw17wZdfoE93KTMzV7s7RPffCoH74UOrFlaHc+dzsGHTDvTu3glBQdw3iYh8z5dLf8Lr737KZX8BaUDcvWT2i3tYAFTAzi2rDnSI6dcMQFezn1HZF3KxblMmenTpgNCQYF5tiMg3WjspkZr2FeZ+9jXDKPTWwtSp//H1F+kXM8ssBdokAEfNfDYZuhsuRz7279uLR5OeQ+bOvfyIEVG1c7ncmPHWR5j3xTKGUei4UPWn/eGF+sWssszMlY72MX0PC4h4U1XVhgHdWQCnIx9uZwEM3Q1ICYfTiR9WrkOLZo3RtHEDftyIqFrkXMjFMy/MwKrVG2AYBoQQEGbfulyI+9NnTdvEAsCLdm3JyIyM6dcFQGSgnz+67oLbUQCXI+/XRv9abreOH1etR40aoWjftiWvRERUpQ4eOoYn/v4K9h84fKnDokN3OaG7XYV3wBUFQpisGJD4LD116nP+8nL96rmyjtG9f5RCuR9AwN0Al1JCdzvhLMiD7nRAGrpH37Nuw1ZkZV9A964doShcK4CIKt/qdZvx9xdmICsrp6gLEwzdDbfLAcNwQwgBRTHFI8ynpO4esWvbmossACrBji2rc9t16b9bAPcEXAFg6HAV5EHKss+e3b33ALZs3Yle3aMRZOcTAkRUeR2VtPlfY/qbM+HyYFMfaRjQ3a7CUQEBCEWFEAH5QJcExH0L507/2Z9etN+VZbs3r9rVPqZfIwF0D6SzRygKFFWD4S7fwhmnzpzD8p/WonNUO9SuFcErFRF5VV5ePl6a9hYWfvV9eSoHGG4XdLcTiqoF4jyBN9NTp77mby/aL4+CDAqbCGBnoJ1BiqpBs4WU+/vPnD2P5L+9jG+XreLVioi8Zt8vh/Dn5Oewas3GCl7jVCiqFmDpiB1GUNhkf3zlfnljZveG5a520QMyhJAPIMD2ClDUwiEyQy/fJkC6rmPVmo04ceoMenTpxOWDiahCvluegWdffqPo+/1lubZpFljtIYF2C8AhVGXowvdePMwCoCqLgC2rjkd26ecGAm/bYEXVIATKXQQAwP4Dh7F2w1Z0jY5CWFgIiIjKIi8vH1P+/T7mpi2CrusV+lmKqsEaFBpw9/+lkE+mz5o632/bGn8Ov2ursFcE8H0gfvg0axA0a8Um9O375RAeTX4Oy39ay6sZEXls5+79+NOkFK9cOwK18RfA0m6tarzm5+/Bvw1PnNhYlcoWALUC8YPocuTB7az4dpo39OuBxx65n0sIE1GxdN3A5+nfYNaH8+GuYK8fABRNg9UeGogz/89DkzHpH0w77M9vwu9vEO/evPpC+5h+ewVwdyB+IFXNAkDCqOCH8eDhY1i+Yi3atWmBenVr80pHRFc5fvI0Ul58Hd98/xOMIhYfK3vjbwnUxh8S8v6Fs6Zl+H37EggHY9eWjB2RMf1aAOjCIqB4F/Py8d3yVTAMiY4d2nLhICKClBKLvl6G5/71Bo6fPO21a1YATvi71Pjj7YWp014OiLYlUA5KdPuu3+maZSSAuoFaBFTk6YArP+xbtu9CxpqNiGzXCrVqRvAKSGRSJ06ewT9f+S8WLf6+whP9rrxWWQK08YfA1gKIu/ZtWeUKjLcTQEYlTmpnQKyFRHigfmDdLgdcBXle+VmaqmJ03BDcf+9IaJoGIjJPr3/x0h/x9gefIL/A4bWfq1nssNiDAjW2LCmNngvnTA+YrVgDrkSLHTspVgixIBDf22W6ywGXIw9euE0HAGjTqjkm/vl+tGnVnFdGogB34NBRvPbmLOzYtc+rP9dis0OzBmzjLyHE79JnT5kfSG8q4FaJ2bUlY1eHmL42QAwM1DNRUTUoqgWG2zujUOfOZ2Px0h9x9lwWYjq1h8XC0QCiQFNQ4MDHn3+Fl197F6dOn/VeL1IAVnswNKs9kON7Pj116n8D7U0F5DJx94y+bdmJ867eANoE6tn4694BxWwXXB579h3E0mWr0KB+XTRr0pBXTKJA6LpKiRUZG/DMC//G6nWbYBiG9364osAWHHZponKAXmuBpdaCQ+MzMzNlAL63wBT/0MRaTqeyHkDLgP5wGwac+bkwDN2rP7d/n254+IG7Ub9eHV5BifzUvl8O4c13PsS2HXu8/rMVVb20wE9AP0100HCjx6KPpp4J0OImcI0c90QXqRurAAQF8vuUUsJVkAe9nDsJFsdmteKu0UMRP+p22KxWXk2J/ETuxTzM+TgdCxd/D103vP7zA3qm/28KhIIBC2ZN3RCob1AE+gdhZEJSggRmm+FD73bkw+Us8PrPbVC/Dh5+4B70692VV1YiH+8MLPl+Jd5P/RxZ2TmV8m9YrHZotiAThCkeTJ8z5YNAfovCDB+KuLHJ/4OQD5vhvRY+IZAPKb1/u6pTVDv8PvFOdGjfmldaIh+zYdN2fDDnc+zZd7ByGgshYAkKgapaAj5LIeR/FsyeNiHQ36cp9optdWP3pWqBeiuAJoH+XgufENAKVw30chFw6vRZfP3tCmzfuRetWzZDzYgavOoSVbNde37BlH+/h7mfLsK589mVdl2xBYVBUU3xhNAqa0GN+zIzl+uB/kaFWT4kd4x7ooFFN1YDMMXD7oXzAi5Cd1fOglVCCNwyqC8eHPs71K4VwaswURU7fPQ4Zn+4ACsyNlTKiN+vvUSLDRZbUKDf77/sF+l291340YyTZnizwkwfmFEJj3cwoK4EUNMs79nlLIDuzEdlXR9sNiviht2Cu0ffwZ0GiarA6TPn8GHaF/jmuxWVMsHvyiLfYg+GqplkArBAtiLFgPmpU7aZ5VwSZvvwjEqYeKMB5RsANrO8Z0N3w1lwEdKovItFWGgI7ho1FCNHDIbVYgEReVd2Ti4+S/8aCxZ9C6ercpeiV1StcDMf82wY5hKGHLpg7rTvzHROCTN+kEaOTbpXCsw10/uXUsLlyIPuclbqv1O3Ti38Lu42DB08EHa7DURUMefOZ2PewiX44utlXl23v+hef+F6/qaY5X/F5RFSjkufM2222c4tYdYPVVxC0rMAnjHb+3a7nHA78ir1niEAhNcIRewdtyBu2C0ICw3hVZyojI6fPI30L77FV0t+hMPprPR/T1FUWOzBZpnod0XRI59ZMHva82Y8x4SJP18iLiF5JiATzfbGpaHDWZBX4a2FPRFkt+H2wQNx58jbUad2TRBRyfb9cgjzFi3Fsh9XV+o9/itpVhs0q2km+v12LRT4aOHsqWMASDOea2YuADB+/HjLyYKwxZC4xYzv3+0sgLsSJwhedYHRNAwa2Av3xQ9H44b1eZUnusb2nXvx6byvsGb9lkofofu1AVBUWE3Y6wcACfGDK8Jx2+LXX3eY9ZwTZv/Qxcc/Ge60u38C0MmM79/Q3XA58grXDaiKnoaqYtANvRE/8na0aNaYV30yNcMwsHL1z/hk3leVtoBPsZ9Fix2azW66Xv8lmW7dMuDLD/913sznn+BHEBg57vEWUldXAzBt17SyHxcsStvWzTFq+K24cWAvaKrKE5FMIys7B0u+W4kvlyzHiZNVu8+Moqqw2oIhVNNu+31C1dFn3odTD5r9PGQBcLkIuD+pu5T4DhLhZs1AGgacjjwYbleV/rs1I8Jx6839EDv0ZtStU4snIwWsPfsO4qslP+C75RlVMrHvqou9EL/e6zdz7SVU5aYFM1/dxLORBcBVRiUm9zWkXAIg1Mw5VNWTAtfSNA39enXBHUNuRJfoDmYdmqQAk59fgGUr1mDR4mXYf+BwtbwGk63mV1wXJw9SvT19zqsreFayACh6JGDMpFukIr4AYDdzDlJKuJz50J3VMz+maeOGGD50EG67ZSCCuJ4A+aEjR0/gm+9/wldLfkBubl61vAZFVWGxhUDhLbZ8KeSwhbOnLeOZyQKgRHEJSbcBSIeJVgssjqG74XbkQ6+CRwaLEhIchIH9emDwoH7oFNWWowLk0y7kXsSPK9fhu+UZ2L5zb/Vd2IWAZguCZmHxDMClCDl6/uxpXzAKFgAeiU1IGi2ATwBoTANwuxxwOQsAw6i211Cndk0M7NsdQ24ZgFYtmvKgkG+0Li43ft68Hd8uW4VVazfB7XZX6+tRrTZYbUG8vBfSJcTYhalTPmYULADKVgQkJt0vJN4HoDCNwtsCurMAbpejyucHXKt5s0YYfGM/DLmlPyLCuS0xVf1nIXPXPqxYuQ7f/7ga2Tm51f6aVM0CzWo35TP9xR0mSIxPnzP1XUbBAqBc4hIm/RkQ/2ESV178DLicBTBcDlRzHQBNVdGze2fccmNf9O4Zw42IqFIdOHQU3/+wGstWrMap0+d84jWpqgbNFsSG/9rGX+DR9NlT32QULAAqZGRC8uMScjqTuOYTZuiF6we4nD7xemw2K7pGd8AN/Xqid88Ybk9MXnHo8DH8uGo9Vq/bVOWL9ZREUVRoNrt5tust08VJPJU+Z8rLDIIFgJeKgKTnJfA3JnG9wtUE86tkbwHPL44Kotq3xsD+PTCgT3fuQ0Cen8+GgR2792PFynVYkbEBZ8761mJxQlFhsdqhWtjwF5mPEM8umD0lhUmwAPCquLHJT0LIfzGJoukuJ1zOAkhD97nX1rxZI9zQrydu6NcDzZo24sGiqzgcTmzaugM/rlqPjDUbcTEv3/depKLAYrVzZn+JLZp8OX32tKcYBAuAyhoJmCwBDi2VWAg44HY6YPhgIQAAzZo0RK8e0egaHYXOUe1gs7EnZTZSShw4eBQbt2Ri/cZt2LxtV7XP3i++x69AsxYO9fMx2JJ6/ubd1pcFQBWKTUj6owDeAJ8OKLkQ0F1wOwp86tbAtVRVQasWTdE1JgrdoqPQuVN77ksQoM6dz8a2HXuwcXMm1m7Y4nND+9c3/Co0q40Nv2f13MSFc6bOYBQsAKqmCBibNEYIzATXCSiVL84RKE6Q3YbI9q3RLToKXWOi0KZVM158/VR2Ti527t73a6PvSxP4SqKoGjSLFSqH+j3qZ0CKP6TPmfIBo2ABUKVGjk2+Swo5BwCfPfOoENDhduZDr+LNhiqibp1a6BzVDpHtWqFD+1Zo1bIZRwh81NHjJ7Fz937s3L0fmTv3Yt8vh6t9vYoyNfyaVjjUr/Jy4iEnBMakz576GaNgAVBNIwHJw4SQaQCCmIbnIwJuZ4FfFQKXaaqKli2aoFOHtmjbugXatm7OSYXVIL/Agf0HDmPPvgPYnrkHW7bvRlZ2jv9dgAWgaFZoFhuf4y8bhyHE3YtmT0lnFCwAqtWohIk3GlAWAQhjGp6TUkJ3FcDlclbrEsMVVad2TUS2a4Wo9q3RqmUztGzemKsTermxP3T4GPb9cqiwh79nPw4dPu5Xvfvru/sKLFrhML9QOJWojC5CiJHps6d8yyhYAPiEEWOSeioKvgbADe3LQXc7C58c8IN5Ap4IDQ1Gi6aN0axpIzRv1gjNmzRCq5ZNEV6DNWJx3LqOY8dO4sDhYzh0+BgOHjqKg0eO+X9jf2W7r2qFvX3Nwrkl5ZMFKYelz5m2ilGwAPApI+9P6i4NfAmgPtMoH0N3w+12wnA5A+aif6V6dWuhedPGaNGsMRo1rIf69eoU/le3NiyWwB8CNgwDZ86ex8lTZ3Hy1BkcO3EKBw8fw4FDR3Hs+CkYfjwSVOxFVggolkvD/Arnj1TACSnkHQtnT9vIKFgA+OZIQEJySwX4EpAdmEb5Fd4ecMDtcvrkwkKV0UjUqhmOBvXqoF692mhwuTCoVwf16tZG7ZrhCAqy+/z7cDicyMrOwanT53Dy1BmcOHXm119PnT6LM2fOw63rpjiHFUWFemk2P3v7FbZd1TFs3odTDzIKFgA+bdh9T9XUVNfnAG5iGhWn6y7oLicMtysgRwU8pWkaaoSFoEZYKGrUCEWNsFCE1whD+KXf1wgLRVhYCCyaBpvNCoulcJg5JKRwfqrdZoVFswACV+2TkJ9fAF03oBs68vILAAAF+Q64dR2GYSAvLx+GlMjJyUXOhSv+y8lF9uVfcy7gwoWLcDidpj5XhaJA1SxQNSsn9Xmvkfoeqv67BTNfy2IaLAD8Qnx8itVpz30HkIlMw3ujAobbeakgcDEQ8o2LqAAU1VLY2+fGPN4201oQ9nBaWoqTUbAA8Lt8RyYm/0NK+Qyz9nYxYEB3OeF2OSAD8L4x+T5F06BqVmiatbAKIK9+xIUQzy2YPeVZAJJxsADwW7GJSfcLibcBsHtQCQxdh9vtCNiJg+RDjb6qQtWsUC1WCMHH9yqJUwC/X5A6NZVRsAAICCMSkm9WID8HEME0KrcY0N1O6G4nRwbIO42+okK1WKCoFt7Xr3znhRSjF8yZspxRsAAIKHFjkqKg4EsALZhGVRQDbhiX5gsYhs5AyLOLogCEWji8r2oW9vSrzi8K9GHzU1/bwShYAASkO8Y90cBiGPMh0YdpVGExYOgw3C7ouguG281A6JpGX0BRNaiaBQp336sOqxSIUfNTp5xiFFWHq1JUsT2bVuU2rHnbLHuEwwaIAUykqi7wyq+rsGlWG4SiFVa/nDNgWoqqQrXYYLEFwWIPhmopfHSPjX/VksDbtoKwuz//6MUcpsERANOITZw0Vki8BYhgplGNowO6u/A/w31prQFmEpAXO6WwCFRVCxRN49B+9SuQQv554exp7zMKFgCmNHLcE12kbswD0JJp+EBvRErIX28XuANmbwJzdvEVqIoKRdV+/Y985pN2yDDEnYvmTl3HLFgAmNqoxKdrG9I5F8BtTMP3CgJDd8HQdRiGG1LX+aihj/fwFVWDcqnhJ1/8TGGxzWaMTXtv+jmmwQKALh2LuLHJkyHkiwA4NunDDEOH1HXouhtSd/MJg+r4sAgBoapQFO3Ss/kWXs78oO2HkK90bVXjrykpKXxGlwUAXT8aMGm4IUUquF6An40SXCoGpA5D17kGgZcbe0VRAVWFqqgQl3r45FdyIMS49NlT5jMKFgBUguH3PdFWVY15ADoxDf8tCqShF84nMAxIqUPXdYCFQQkNPSCEeqlnr0AoKoSisrH3fzsV6KP5fD8LAPJQfPwjoS570AwJPMg0AqkwMCANo/A2glE4UiAvFQhmmFogBAChQiiisLFXFCiKAuVSY08Bd8a/kw9l4pLUKReZBQsAKqPYhKTRAngbQG2mYY5RA8MwAGnAkIW/St0oLBz8oEIQQgBC+bWBVxQBIS715oUCoXB6i0lkSYg/LUyd8jGjYAFAFXDHuCcaWHT5ASBvZxosEqQ0gEu/Slk4qgBDQkIWLmwkZGGxIH/7nku/+3XhoyuLicsL30ghIC5dEgr/6NL/KQKQvzXuEOLS9wgolxr0woZdcBEdAgS+02Hc/8Xs6UcZBgsA8tKxih2b9Bch8DIAG+MgIh/jEkK82KVV6HOc5c8CgCrBqITkToaQH0KiM9MgIh9pSnZIYYxZOHvaRmbhPzjrxs/s3LLqVHS7PjN1DWGA6MUijoiqWWo+RNxXqVMPMQqOAFAViUtIug3ATAANmAYRVSUJcVoAD6WnTlnENDgCQFVs15aMfR2je38oFaUtgPZMhIiqqO/4Odyu4QvnTv+ZWXAEgKpZbMKkeAHxJoA6TIOIKskJCExInz31M0bBEQDyndGAzKiY/rNk4e2AGCZCRF4kAcyxWo3YeTOnbWAcHAEgHxWXmHQnJF4H5wYQkRf6F1LB+IWzpv7IKDgCQL7+ad2ckRnd/oZ3dU0PBkQPcHdBIio7N4R8NVutcc83s17axzg4AkB+ZsTYJ7opwngbQHemQUQe2igU/GHBrKkc7ucIAPmr3VtWHb+xT+cPLrrsFyFkP0BYmAoRFeOigHjSWnDo9/M+fJdL+XIEgALF8MSJjVWpvAQggWkQ0RWkgPhM0eUT8z6cepBxsACgABWbOOkmIcW/AXRiGkSmbwbWS0U8vnDWqyuZhbnwFoAJ7dqccaBhrdvesdVwnhMK+gKwMxUi03X/jgkguWvrsEfemvEil/HlCACZbjTg3sfqQ9OeE8BDLAiJTKEAEFPzgZeWpE65yDhYAJDJjRiXFKnq4jkJGc80iAKTBL6QEH9ZlDrlF6ZBLADoKnGJyYOllFMEVxMkCiQbpYLHuZgPXYkLxNBV0mdP+dZWcKg7pHgQAGcDE/m3XyDl/V1bh/Vg408cASCPxcenWF32C+Mk8Cy4rDCRPzkDKaZka6Ezls9MKWAcxAKAymVIQnJIkMSjEPIpABFMhMhnXYCQbzp114uL576ewziIBQB5ReyDk8OE03iEhQCRbzb8brf15S8//Nd5xkEsAKiyC4EnAdRkIkRs+IkFAJnIyHGPRxhu5TEhxF8A1GIiRFXmrBByhiXf8u+0tJezGQexAKBqMWhcij3cnXMXhPgrgPZMhKjSnBBCvGXJV6ez4ScWAOQzUlJSlI37cocB8ikA/ZgIkdfslRL/cdV0/m/x6687GAexACCfNSoxaYAhkQQgFlxvgqi8lgFienrqlC8ASMZBLADIb/zuvomt3Kp4DMDvARHMRIhK5RQQ6RKYmp46ZQ3jIBYA5NfiH5hQ1+m2/gnAnwHUYyJE1zkphPif4XL9d+FHM04yDmIBQIFVCMSnWB32nDgBMR7ALTwHibBBAG9bCozUtLTp+YyDWABQwIsdO7m9UNwPQIrfA6jNRMhEV95sKfGJMIz/pM+dvpWBEAsAMqUhCckhwTDiJfAgIAbwvKQAJSXEj0Ia7xvBNT5b9HZKHiMhFgBEl8Q9MKkpXMp9EPJhAC2ZCAWAoxByjjTkuwvnTN/LOIgFAFEJCtcUuHArgAQAIwGEMBXyIxcALJASqd3ahH2XkpJiMBJiAUBURoPGpdjD9dxbBZAgIeMAWJkK+SAdwDJImWp1FMxLS3szl5EQCwAiLxmV+HRtA447hRR3SeBGACpToWrkBrBcQnxqs+qfp703/RwjIRYARJUs/qGJtZwOMVwKES+AIRwZoCrr6Uu5WkKkQXd/zGf2iQUAUTUaOe7xCOjqCAkRB8ghAMKYCnlRjoD4xhDGQlu+ZRE34iEWAES+ODIQH6+6g5r1NSCHQyqxgOzAVKisJLAfwLcC4gtrQeg3aWkpTqZCLACI/MiIcUmRqi5ul8CtgLwRfKKAipYLgR+kgaWqIhfPnz1tNyMhFgBEATM6kGJ12XL7QRhDJJRbAdkVnEhoVroAfpYQSxToS7WC8Az28okFAJFpCoJHQp1BwX0EMEBK2R/ADeBkwoBt8AFsAuRKCfxks8rvOGufWAAQ0a8FgSs4pJ+hywECRm8oojckwpmMX8oCsEYIsVoCP+VLZCxJnXKRsRCxACAqVUpKirJxz4VICNFbCtkHQG8BRAGwMB2f4oLEdkCsEcJYLWCsmZ/62k4AktEQsQAg8orx48dbjjtC2im66A6B7pDoDiFiAIQynSqRC2AXgEwpsUFVsEHLNzZwK10iFgBE1SL2nsmNhNWIkobsCIEoIWVHCBENrklQXg4A+wTEdghkGtLYLhWZ2b1l+A6urU/EAoDI5z9jcQ9MaiJ1tBGGaA1FtoFU2kDK1hBozeIAOZDYD2AvBPZCYp+A2KtIZe+8ua8cBYfwiVgAEAWiYfc9VVMTjiaKKppLA02lIppAoikEGkGiPoC6l/5T/OytGQBOAzgNgZOQOAaBw1LisCrkEUOXB4VFHl4w87UsngVELACIqAjx8fHqxZAWdS0ud11DUesqQtaCgQhARkAohb8CEZAyGEKEScAugCAAIRKwCiD8mgLCjsK/v1I+gIIrG3AJZAvACeAiIPMA4YCUFyBEHoAsQGRBGllCKOchjSxdKOcVQz/tsmine7UIOcVheiLf9v+nI49CHShn/gAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wOC0yOVQxNTowMTozNyswMDowMBHISBgAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDgtMjlUMTU6MDE6MzcrMDA6MDBglfCkAAAAAElFTkSuQmCC");
        return userDao.save(user);
    }
    }

    public String getEncodedPassword(String password) {
        return passwordEncoder.encode(password);
    }

    public void blockUser(int userId) {
        User user = userDao.findById(userId).get();
        user.setUserActive(false);
        userDao.save(user);
    }

    public void unblockUser(int userId) {
        User user = userDao.findById(userId).get();
        user.setUserActive(true);
        userDao.save(user);
    }

    public void forgotPassword(String mail) {
        // Check if the email exists in the database
        User user = userDao.findByEmail(mail);
        if (user != null) {
            System.out.println(user.getUserName());
            // Generate a new password
            String newPassword = RandomStringUtils.random(8, true, true);

            // Update the user's password
            user.setUserPassword(getEncodedPassword(newPassword));
            userDao.save(user);

            // Send the new password to the user's email
            this.emailService.sendSimpleEmail(mail, "new password", newPassword);


        } else {
            throw new ResourceNotFoundException("User not found with mail: " + mail);
        }
    }

    public List<User> selectAll() {
        return (List<User>) userDao.findUsersByRoleNameAndDescription("User", "Default role for newly created record");
    }

    public void modifier(int id, String oldpassword, String newpassword, String newpassword1) {
        User u = userDao.findById(id).get();
        BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();
        boolean passwordMatches = passwordEncoder.matches(oldpassword,u.getUserPassword());
        if (passwordMatches && Objects.equals(newpassword, newpassword1)) {
            u.setUserPassword(getEncodedPassword(newpassword));
            userDao.save(u);
        }
        else{System.out.println("mdp incorrect ou nouveau password non confirmé");
        }
    }
    public User getCurrentUser() {
        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();

        if (authentication != null && authentication.getPrincipal() instanceof UserDetails) {
            String username=  ((UserDetails) authentication.getPrincipal()).getUsername();
            User user=userDao.findByUserName(username);
            return user;
        } else {
            return null; // or handle the case where no user is authenticated
        }
    }
    public void changeph(MultipartFile file,int id) {
        User user = userDao.findById(id).get();
        String fileName = StringUtils.cleanPath(file.getOriginalFilename());
        if (fileName.contains("..")) {
            System.out.println("not a a valid file");
        }
        try {
            user.setUserPhoto(Base64.getEncoder().encodeToString(file.getBytes()));
        } catch (IOException e) {
            e.printStackTrace();
        }
        userDao.save(user);
    }
    public List<User> search(String q) {
        return userDao.findByUserFirstName(q);
    }
}